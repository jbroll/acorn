#!/usr/bin/env tclkit8.6.1
#
lappend auto_path lib

set Data zmx-models

package require acorn

    acorn::ZMX create Model source $Data/bino_wfs.ZMX

Model field set 1 x  0.25
Model field set 1 y  0

Model update

acorn::Rays create trak 32
acorn::Rays create 1ray 1

    1ray set px 0 py 0 pz 0 vignetted 0		; # Set up aray.
    1ray angles : 0.25 0

Model trace 1ray {} current 0 trak

puts [Model 20 get x y]
puts ""
acorn::prays trak


exit


puts ""
puts ""



puts "n	a	x	y"
puts "-	-	-	-"

foreach a [iota 1 12] {

    Model field set 1 x [expr $a/12.0]
    Model field set 1 y  0

    Model update

    puts "$a	[expr $a/12.0]	[join [Model 20 get x y] \t]"
}

#Model print



